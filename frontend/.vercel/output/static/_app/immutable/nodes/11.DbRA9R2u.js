import"../chunks/DsnmJJEf.js";import"../chunks/hNqiKWnM.js";import{o as R}from"../chunks/1-JAo-Vw.js";import{p as V,d as T,t as D,h as e,a as k,e as W,i,j as s,s as a,m as u,r as o,z as X}from"../chunks/DFFLsmBn.js";import{e as v,s as m}from"../chunks/CVaLoUw_.js";import{i as Y}from"../chunks/DIYmMOxU.js";import{e as Z,i as tt}from"../chunks/wBDlzmEs.js";import{r as et}from"../chunks/BPl-Gnor.js";import{b as O}from"../chunks/bS5b90uK.js";import{i as rt}from"../chunks/BUx8HaOQ.js";import{r as f,c as E}from"../chunks/D8H4y7nB.js";var at=T('<button class="px-6 py-2 rounded-lg border border-white/10 hover:bg-white/10 transition text-gray-300">Cancel</button>'),ot=T('<div class="glass-card p-6 flex flex-col relative group hover:border-primary/50 transition duration-300"><h3 class="text-xl font-bold text-white mb-2"> </h3> <p class="text-gray-300 whitespace-pre-wrap flex-grow leading-relaxed"> </p> <div class="mt-6 flex justify-end gap-3 pt-4 border-t border-white/5"><button class="text-primary hover:text-green-300 font-medium text-sm">Edit</button> <button class="text-accent hover:text-red-300 font-medium text-sm">Delete</button></div></div>'),it=T('<div class="space-y-8"><div class="flex items-center justify-between"><h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary">Notes</h1></div> <div class="glass-card p-6"><h2 class="text-xl font-semibold mb-4 text-primary"> </h2> <div class="space-y-4"><input placeholder="Title" class="w-full glass-input px-4 py-3 rounded-lg focus:ring-2 focus:ring-primary transition"/> <textarea placeholder="Content" rows="4" class="w-full glass-input px-4 py-3 rounded-lg focus:ring-2 focus:ring-primary transition resize-none"></textarea> <div class="flex gap-3"><button class="glass-button px-6 py-2 rounded-lg hover:shadow-lg hover:shadow-primary/20 transition transform hover:-translate-y-0.5"> </button> <!></div></div></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div></div>');function ht(P,S){V(S,!1);let $=u([]),l=u(""),c=u(""),n=u(null);async function x(){try{a($,await f("/notes","GET",null,{Authorization:`Bearer ${E.token}`}))}catch(t){console.error(t)}}async function U(){const t=JSON.stringify({title:e(l),content:e(c)}),r={Authorization:`Bearer ${E.token}`,"Content-Type":"application/json"};try{e(n)?await f(`/notes/${e(n)}`,"PUT",t,r):await f("/notes","POST",t,r),a(l,""),a(c,""),a(n,null),x()}catch(d){console.error(d)}}async function q(t){if(confirm("Are you sure?"))try{await f(`/notes/${t}`,"DELETE",null,{Authorization:`Bearer ${E.token}`}),x()}catch(r){console.error(r)}}function G(t){a(l,t.title),a(c,t.content),a(n,t.id)}function I(){a(l,""),a(c,""),a(n,null)}R(x),rt();var h=it(),g=s(i(h),2),b=i(g),J=i(b,!0);o(b);var z=s(b,2),y=i(z);et(y);var _=s(y,2);X(_);var A=s(_,2),p=i(A),L=i(p);o(p);var M=s(p,2);{var F=t=>{var r=at();v("click",r,I),k(t,r)};Y(M,t=>{e(n)&&t(F)})}o(A),o(z),o(g);var j=s(g,2);Z(j,5,()=>e($),tt,(t,r)=>{var d=ot(),w=i(d),H=i(w,!0);o(w);var N=s(w,2),K=i(N,!0);o(N);var B=s(N,2),C=i(B),Q=s(C,2);o(B),o(d),D(()=>{m(H,e(r).title),m(K,e(r).content)}),v("click",C,()=>G(e(r))),v("click",Q,()=>q(e(r).id)),k(t,d)}),o(j),o(h),D(()=>{m(J,e(n)?"Edit Note":"New Note"),m(L,`${e(n)?"Update":"Add"} Note`)}),O(y,()=>e(l),t=>a(l,t)),O(_,()=>e(c),t=>a(c,t)),v("click",p,U),k(P,h),W()}export{ht as component};
