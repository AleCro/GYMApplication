import{aW as ee,h as U,x as $,U as te,u as se,aX as Y,_ as A,af as _,o as d,am as ie,C as N,a2 as j,q as re,ai as k,a5 as ne,aa as g,aY as S,ae as C,aZ as D,a_ as E,a$ as I,b0 as ae,aB as x,az as z,b1 as le,ar as L,a7 as T,n as he,a6 as oe,b2 as P,b3 as ue,a3 as fe,b4 as de,b5 as ce,at as O,b6 as _e,N as pe,aU as ge,O as ve,ao as ye,a9 as K,b7 as be,b8 as X,a8 as w,ah as Z,b9 as M,ba as B,bb as Ee,av as we,an as Te,bc as me,p as Ne,aK as Re,aj as Se,bd as Ae,e as De}from"./DFFLsmBn.js";function Oe(t){let e=0,i=$(0),r;return()=>{ee()&&(U(i),te(()=>(e===0&&(r=se(()=>t(()=>Y(i)))),e+=1,()=>{A(()=>{e-=1,e===0&&(r?.(),r=void 0,Y(i))})})))}}var ke=fe|de|ce;function Fe(t,e,i){new Ce(t,e,i)}class Ce{parent;#i=!1;#t;#p=d?_:null;#r;#u;#n;#s=null;#e=null;#a=null;#l=null;#f=0;#h=0;#d=!1;#o=null;#v=()=>{this.#o&&ie(this.#o,this.#f)};#y=Oe(()=>(this.#o=$(this.#f),()=>{this.#o=null}));constructor(e,i,r){this.#t=e,this.#r=i,this.#u=r,this.parent=N.b,this.#i=!!this.#r.pending,this.#n=j(()=>{if(N.b=this,d){const n=this.#p;re(),n.nodeType===k&&n.data===ne?this.#E():this.#b()}else{try{this.#s=g(()=>r(this.#t))}catch(n){this.error(n)}this.#h>0?this.#_():this.#i=!1}},ke),d&&(this.#t=_)}#b(){try{this.#s=g(()=>this.#u(this.#t))}catch(e){this.error(e)}this.#i=!1}#E(){const e=this.#r.pending;e&&(this.#e=g(()=>e(this.#t)),S.enqueue(()=>{this.#s=this.#c(()=>(S.ensure(),g(()=>this.#u(this.#t)))),this.#h>0?this.#_():(C(this.#e,()=>{this.#e=null}),this.#i=!1)}))}is_pending(){return this.#i||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#c(e){var i=N,r=x,n=z;D(this.#n),E(this.#n),I(this.#n.ctx);try{return e()}catch(s){return ae(s),null}finally{D(i),E(r),I(n)}}#_(){const e=this.#r.pending;this.#s!==null&&(this.#l=document.createDocumentFragment(),Le(this.#s,this.#l)),this.#e===null&&(this.#e=g(()=>e(this.#t)))}#g(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(e);return}this.#h+=e,this.#h===0&&(this.#i=!1,this.#e&&C(this.#e,()=>{this.#e=null}),this.#l&&(this.#t.before(this.#l),this.#l=null),A(()=>{S.ensure().flush()}))}update_pending_count(e){this.#g(e),this.#f+=e,le.add(this.#v)}get_effect_pending(){return this.#y(),U(this.#o)}error(e){var i=this.#r.onerror;let r=this.#r.failed;if(this.#d||!i&&!r)throw e;this.#s&&(L(this.#s),this.#s=null),this.#e&&(L(this.#e),this.#e=null),this.#a&&(L(this.#a),this.#a=null),d&&(T(this.#p),he(),T(oe()));var n=!1,s=!1;const a=()=>{if(n){_e();return}n=!0,s&&ue(),S.ensure(),this.#f=0,this.#a!==null&&C(this.#a,()=>{this.#a=null}),this.#i=this.has_pending_snippet(),this.#s=this.#c(()=>(this.#d=!1,g(()=>this.#u(this.#t)))),this.#h>0?this.#_():this.#i=!1};var f=x;try{E(null),s=!0,i?.(e,a),s=!1}catch(u){P(u,this.#n&&this.#n.parent)}finally{E(f)}r&&A(()=>{this.#a=this.#c(()=>{this.#d=!0;try{return g(()=>{r(this.#t,()=>e,()=>a)})}catch(u){return P(u,this.#n.parent),null}finally{this.#d=!1}})})}}function Le(t,e){for(var i=t.nodes_start,r=t.nodes_end;i!==null;){var n=i===r?null:O(i);e.append(i),i=n}}const xe=["touchstart","touchmove"];function Me(t){return xe.includes(t)}const Be=new Set,V=new Set;function He(t,e,i,r={}){function n(s){if(r.capture||m.call(e,s),!s.cancelBubble)return ge(()=>i?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?A(()=>{e.addEventListener(t,n,r)}):e.addEventListener(t,n,r),n}function Ve(t,e,i,r,n){var s={capture:r,passive:n},a=He(t,e,i,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&pe(()=>{e.removeEventListener(t,a,s)})}let W=null;function m(t){var e=this,i=e.ownerDocument,r=t.type,n=t.composedPath?.()||[],s=n[0]||t.target;W=t;var a=0,f=W===t&&t.__root;if(f){var u=n.indexOf(f);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var v=n.indexOf(e);if(v===-1)return;u<=v&&(a=u)}if(s=n[a]||t.target,s!==e){ve(t,"currentTarget",{configurable:!0,get(){return s||i}});var F=x,c=N;E(null),D(null);try{for(var l,h=[];s!==null;){var y=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+r];if(p!=null&&(!s.disabled||t.target===s))if(ye(p)){var[J,...Q]=p;J.apply(s,[t,...Q])}else p.call(s,t)}catch(R){l?h.push(R):l=R}if(t.cancelBubble||y===e||y===null)break;s=y}if(l){for(let R of h)queueMicrotask(()=>{throw R});throw l}}finally{t.__root=e,delete t.currentTarget,E(F),D(c)}}}let o;function Ye(){o=void 0}function We(t){let e=null,i=d;var r;if(d){for(e=_,o===void 0&&(o=Z(document.head));o!==null&&(o.nodeType!==k||o.data!==X);)o=O(o);o===null?w(!1):o=T(O(o))}d||(r=document.head.appendChild(K()));try{j(()=>t(r),be)}finally{i&&(w(!0),o=_,T(e))}}let q=!0;function qe(t,e){var i=e==null?"":typeof e=="object"?e+"":e;i!==(t.__t??=t.nodeValue)&&(t.__t=i,t.nodeValue=i+"")}function Ie(t,e){return G(t,e)}function Ue(t,e){M(),e.intro=e.intro??!1;const i=e.target,r=d,n=_;try{for(var s=Z(i);s&&(s.nodeType!==k||s.data!==X);)s=O(s);if(!s)throw B;w(!0),T(s);const a=G(t,{...e,anchor:s});return w(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(f=>f.startsWith("https://svelte.dev/e/")))throw a;return a!==B&&console.warn("Failed to hydrate: ",a),e.recover===!1&&Ee(),M(),we(i),w(!1),Ie(t,e)}finally{w(r),T(n),Ye()}}const b=new Map;function G(t,{target:e,anchor:i,props:r={},events:n,context:s,intro:a=!0}){M();var f=new Set,u=c=>{for(var l=0;l<c.length;l++){var h=c[l];if(!f.has(h)){f.add(h);var y=Me(h);e.addEventListener(h,m,{passive:y});var p=b.get(h);p===void 0?(document.addEventListener(h,m,{passive:y}),b.set(h,1)):b.set(h,p+1)}}};u(Te(Be)),V.add(u);var v=void 0,F=me(()=>{var c=i??e.appendChild(K());return Fe(c,{pending:()=>{}},l=>{if(s){Ne({});var h=z;h.c=s}if(n&&(r.$$events=n),d&&Re(l,null),q=a,v=t(l,r)||{},q=!0,d&&(N.nodes_end=_,_===null||_.nodeType!==k||_.data!==Se))throw Ae(),B;s&&De()}),()=>{for(var l of f){e.removeEventListener(l,m);var h=b.get(l);--h===0?(document.removeEventListener(l,m),b.delete(l)):b.set(l,h)}V.delete(u),c!==i&&c.parentNode?.removeChild(c)}});return H.set(v,F),v}let H=new WeakMap;function $e(t,e){const i=H.get(t);return i?(H.delete(t),i(e)):Promise.resolve()}export{Ue as a,q as b,Ve as e,We as h,Ie as m,qe as s,$e as u};
