{"version":3,"file":"_page.svelte-6U98Ph4t.js","names":[],"sources":["../../../.svelte-kit/adapter-bun/entries/pages/app/me/_page.svelte.js"],"sourcesContent":["import { $ as head, a0 as escape_html, a2 as attr, a4 as ensure_array_like, a6 as bind_props } from \"../../../../chunks/index2.js\";\nimport { i as isPasswordSecure } from \"../../../../chunks/passwordCheck.js\";\nimport { u as userStore, o as onDestroy } from \"../../../../chunks/stores.js\";\nimport \"../../../../chunks/cookie.js\";\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let user, passwordCheck, passwordsMatch, isFormValid;\n    let data = $$props[\"data\"];\n    userStore.set(data?.user ?? null);\n    let unsubscribe = userStore.subscribe((value) => {\n      user = value;\n    });\n    const userInitial = (user.username ?? \"G\").charAt(0).toUpperCase();\n    let oldPassword = \"\";\n    let newPassword = \"\";\n    let confirmNewPassword = \"\";\n    let loading = false;\n    onDestroy(() => {\n      unsubscribe();\n    });\n    user = data.user;\n    passwordCheck = isPasswordSecure(newPassword);\n    passwordsMatch = newPassword.length > 0 && newPassword === confirmNewPassword;\n    isFormValid = passwordCheck.secure && passwordsMatch && oldPassword.length > 0 && !loading;\n    head($$renderer2, ($$renderer3) => {\n      $$renderer3.title(($$renderer4) => {\n        $$renderer4.push(`<title>My Profile</title>`);\n      });\n    });\n    $$renderer2.push(`<div class=\"space-y-8 max-w-2xl mx-auto\"><section><h1 class=\"text-2xl font-semibold text-white mb-6\">My Profile</h1> <div class=\"flex items-center gap-6 p-6 bg-gray-800 rounded-lg\"><div class=\"w-24 h-24 rounded-full bg-indigo-600 text-white flex items-center justify-center text-5xl font-medium shrink-0\">${escape_html(userInitial)}</div> <div><div class=\"text-xs text-gray-400 uppercase tracking-wider\">Username</div> <div class=\"text-3xl font-bold text-gray-100\">${escape_html(user.username)}</div> `);\n    if (user.email) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div class=\"text-sm text-gray-300 mt-1\">${escape_html(user.email)}</div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--></div></div></section> <section><h2 class=\"text-xl font-semibold text-white mb-5\">Change Password</h2> <form class=\"p-6 bg-gray-800 rounded-lg space-y-6\">`);\n    {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--> `);\n    {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--> <div><label for=\"old-password\" class=\"block text-sm font-medium text-gray-300 mb-2\">Old Password</label> <input id=\"old-password\" type=\"password\"${attr(\"value\", oldPassword)} required class=\"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md placeholder-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"/></div> <div><label for=\"new-password\" class=\"block text-sm font-medium text-gray-300 mb-2\">New Password</label> <input id=\"new-password\" type=\"password\"${attr(\"value\", newPassword)} required${attr(\"aria-invalid\", newPassword.length > 0 && !passwordCheck.secure)} class=\"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md placeholder-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"/></div> `);\n    if (newPassword.length > 0 && !passwordCheck.secure) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div class=\"p-4 bg-gray-900 border border-gray-700 rounded-md\"><ul class=\"space-y-1 text-sm text-gray-400\"><!--[-->`);\n      const each_array = ensure_array_like(passwordCheck.issues);\n      for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n        let issue = each_array[$$index];\n        $$renderer2.push(`<li class=\"flex items-center\"><svg class=\"w-4 h-4 mr-2 text-red-400 shrink-0\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path d=\"M6 18L18 6M6 6l12 12\"></path></svg> <span>${escape_html(issue)}</span></li>`);\n      }\n      $$renderer2.push(`<!--]--></ul></div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--> <div><label for=\"confirm-password\" class=\"block text-sm font-medium text-gray-300 mb-2\">Confirm New Password</label> <input id=\"confirm-password\" type=\"password\"${attr(\"value\", confirmNewPassword)} required${attr(\"aria-invalid\", confirmNewPassword.length > 0 && !passwordsMatch)} class=\"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md placeholder-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"/> `);\n    if (confirmNewPassword.length > 0 && !passwordsMatch) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<p class=\"mt-2 text-sm text-red-400\">Passwords do not match.</p>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--></div> <div class=\"pt-2\"><button type=\"submit\"${attr(\"disabled\", !isFormValid || loading, true)} class=\"w-full sm:w-auto px-6 py-2.5 bg-indigo-600 text-white font-semibold rounded-md shadow-md hover:bg-indigo-500 transition duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed\">`);\n    {\n      $$renderer2.push(\"<!--[!-->\");\n      $$renderer2.push(`Change Password`);\n    }\n    $$renderer2.push(`<!--]--></button></div></form></section></div>`);\n    bind_props($$props, { data });\n  });\n}\nexport {\n  _page as default\n};\n"],"mappings":";;;;;;;;AAIA,SAAS,MAAM,YAAY,SAAS;AAClC,YAAW,UAAU,CAAC,gBAAgB;EACpC,IAAI,MAAM,eAAe,gBAAgB;EACzC,IAAI,OAAO,QAAQ;AACnB,YAAU,IAAI,MAAM,QAAQ,KAAK;EACjC,IAAI,cAAc,UAAU,UAAU,CAAC,UAAU;AAC/C,UAAO;EACR,EAAC;EACF,MAAM,cAAc,CAAC,KAAK,YAAY,KAAK,OAAO,EAAE,CAAC,aAAa;EAClE,IAAI,cAAc;EAClB,IAAI,cAAc;EAClB,IAAI,qBAAqB;EACzB,IAAI,UAAU;AACd,YAAU,MAAM;AACd,gBAAa;EACd,EAAC;AACF,SAAO,KAAK;AACZ,kBAAgB,iBAAiB,YAAY;AAC7C,mBAAiB,YAAY,SAAS,KAAK,gBAAgB;AAC3D,gBAAc,cAAc,UAAU,kBAAkB,YAAY,SAAS,MAAM;AACnF,OAAK,aAAa,CAAC,gBAAgB;AACjC,eAAY,MAAM,CAAC,gBAAgB;AACjC,gBAAY,MAAM,2BAA2B;GAC9C,EAAC;EACH,EAAC;AACF,cAAY,MAAM,mTAAmT,YAAY,YAAY,CAAC,uIAAuI,YAAY,KAAK,SAAS,CAAC,SAAS;AACzgB,MAAI,KAAK,OAAO;AACd,eAAY,KAAK,WAAW;AAC5B,eAAY,MAAM,0CAA0C,YAAY,KAAK,MAAM,CAAC,QAAQ;EAC7F,MACC,aAAY,KAAK,YAAY;AAE/B,cAAY,MAAM,oKAAoK;AAEpL,cAAY,KAAK,YAAY;AAE/B,cAAY,MAAM,WAAW;AAE3B,cAAY,KAAK,YAAY;AAE/B,cAAY,MAAM,4JAA4J,KAAK,SAAS,YAAY,CAAC,0VAA0V,KAAK,SAAS,YAAY,CAAC,WAAW,KAAK,gBAAgB,YAAY,SAAS,MAAM,cAAc,OAAO,CAAC,gMAAgM;AAC/0B,MAAI,YAAY,SAAS,MAAM,cAAc,QAAQ;AACnD,eAAY,KAAK,WAAW;AAC5B,eAAY,MAAM,qHAAqH;GACvI,MAAM,aAAa,kBAAkB,cAAc,OAAO;AAC1D,QAAK,IAAI,UAAU,GAAG,WAAW,WAAW,QAAQ,UAAU,UAAU,WAAW;IACjF,IAAI,QAAQ,WAAW;AACvB,gBAAY,MAAM,yPAAyP,YAAY,MAAM,CAAC,cAAc;GAC7S;AACD,eAAY,MAAM,qBAAqB;EACxC,MACC,aAAY,KAAK,YAAY;AAE/B,cAAY,MAAM,4KAA4K,KAAK,SAAS,mBAAmB,CAAC,WAAW,KAAK,gBAAgB,mBAAmB,SAAS,MAAM,eAAe,CAAC,0LAA0L;AAC5e,MAAI,mBAAmB,SAAS,MAAM,gBAAgB;AACpD,eAAY,KAAK,WAAW;AAC5B,eAAY,MAAM,kEAAkE;EACrF,MACC,aAAY,KAAK,YAAY;AAE/B,cAAY,MAAM,wDAAwD,KAAK,aAAa,eAAe,SAAS,KAAK,CAAC,qSAAqS;EAC/Z;AACE,eAAY,KAAK,YAAY;AAC7B,eAAY,MAAM,iBAAiB;EACpC;AACD,cAAY,MAAM,gDAAgD;AAClE,aAAW,SAAS,EAAE,KAAM,EAAC;CAC9B,EAAC;AACH"}